(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{354:function(e,A,t){},367:function(e,A,t){"use strict";t.r(A);var s=t(0),n=t.n(s),a=t(74),c=t.n(a),i=t(50),l=t(403),r=t(57),d=t(402),j=t(407),h=t(2);var g=e=>{let{isCreating:A,setIsCreating:t,isEditing:s,setIsEditing:n,createType:a}=e;if(A)return Object(h.jsx)("div",{className:"channel__container",children:Object(h.jsx)(F,{createType:a,setIsCreating:t})});if(s)return Object(h.jsx)("div",{className:"channel__container",children:Object(h.jsx)(X,{setIsEditing:n})});return Object(h.jsx)("div",{className:" channel__container",children:Object(h.jsx)(d.a,{EmptyStateIndicator:()=>Object(h.jsxs)("div",{className:"channel-empty__container",children:[Object(h.jsx)("p",{className:"channel-empty__first",children:"This is the beginning of your chat history."}),Object(h.jsx)("p",{className:"channel-empty__second",children:"Send messages, attachments, links, emojis, and more!"})]}),Message:(e,A)=>Object(h.jsx)(j.a,{...e},A),children:Object(h.jsx)(U,{setIsEditing:n})})})},o=t(6),m=t(401),C=t.p+"static/media/hospital.f401490c.png";const u=new r.a,b=e=>{let{logout:A}=e;return Object(h.jsxs)("div",{className:"channel-list__sidebar",children:[Object(h.jsx)("div",{className:"channel-list__sidebar__icon1",children:Object(h.jsx)("div",{className:"icon1__inner",children:Object(h.jsx)("img",{src:C,alt:"Hospital",width:"60"})})}),Object(h.jsx)("div",{className:"channel-list__sidebar__icon2",children:Object(h.jsx)("div",{className:"icon1__inner",onClick:A,children:Object(h.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpVIqDnYQcchQneyiIoJLacUiWChthVYdTF76B00akhQXR8G14ODPYtXBxVlXB1dBEPwBcXZwUnSREu9LCi1ivPB4H+fdc3jvPkBo1Zhq9sUAVbOMTDIu5gurYuAVQfgQwjyCEjP1VHYxB8/6uqdeqrsoz/Lu+7MGlaLJAJ9IHGO6YRFvEM9uWjrnfeIwq0gK8TnxpEEXJH7kuuzyG+eywwLPDBu5TII4TCyWe1juYVYxVOIZ4oiiapQv5F1WOG9xVmsN1rknf2GoqK1kuU5rDEksIYU0RMhooIoaLERp10gxkaHzuId/1PGnySWTqwpGjgXUoUJy/OB/8Hu2Zml6yk0KxYH+F9v+GAcCu0C7advfx7bdPgH8z8CV1vXXW8DcJ+nNrhY5Aoa2gYvrribvAZc7wMiTLhmSI/lpCaUS8H5G31QAhm+B4Jo7t845Th+AHM1q+QY4OAQmypS97vHugd65/dvTmd8Po6Ryup+w61oAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfoCgEOADt/WoilAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAC19JREFUeNrt3cFuG0cURUG2wP//5fbGC4OQLUskp2f6VK0TGGEE3jOPjHK7AQAAAAAAAAAAAAAA1zC8BOcw55xeBZa8CYzhfQAEAAYfIQAIAAw+IgAQABh9RAAgADD8iABAABh9rwIiALiKu5fA8APgAoDhB1cAcAHA8APgAmD4wRUAcAEw/AAgAAw/AAgAww8AZ/XhJTD+ALgAGH4AcAEw/gDgAmD4AcAFwPgDgAAw/gBwEZnf8GX44QdvEH4LILgAGH8AEADGHwAubOvznvGHJ94cnP9BABh/MP6AADD+YPwBAWD4wfgDAsD4g/EHBIDxB+MPCADjD4YfOAH/O2Aw+IALgKd/b+AACADjb+wBEADG3+ADIACMv9EHQAAYf8MPgAAw/kYfgNP68BIYfwBcADz9G34ABIDxN/wA7MhvAjT8ALgAePo3/gAIAONv+AHYkv8KwPgD4ALg6d/4A1DgS4CGHwAXAE//xh8AAWD8DT8AW/IlQOMPgAuAp3/jD4ALgCd/4w+AC0Dp6d/4A+AC4MkfAATA7k//ACAAPP0DgAAw/gCwweat/MPPdP43/gC4AAAALgCe/gHABWCvAjL+AAgAACDxALziDz3L+d/TPwAuALXyMf4ACIDe0z8ACABP/wAgAACAzR+Gj/zDznD+9/QPAC4AACAAdufpHwBcAAAg67An4tWf/3v6BwAXAAAQAACAANiO8z8ALAgAv/4XAFwAAAABAAAIAABAADzLFwABYEEA+AIgALgAAAACAAAQAC/m838AcAEAAAQAAAgAAEAAAAACAAAQAACAAPgrvwUQAFwAAAABAAAIAABAADzLrwEGABcAAEAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAB4CUAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAA/Ie7lwBgb3PO+dVfM8YYXikBAEBg9D/764VAh48AAOLj//j3PvP3IwAAWDD8rxpvESAAANj8qd81QAAAYPxdAwQAAIgAAQBAephFgAAAQHAgAAAojbEIEAAAiA8EAAAiAAEAwPbjKwIEAABiBAEAgAhAAAAgAhAAAIgABAAAIgABAMBXxhhDBCAAABABCAAARAACAAARgAAA2MPZvwcgAgQAAIgAAQBA8QogAgQAACIAAQCACEAAACACEAAAiAAEAAAiAAEAgAhAAAAgAhAAACJABCAAAESACEAAAIgAESAAABABIkAAACACRIAAAEAEiAABAIAIEAECAAARIAIEAAAiQAQIAABEgAgQAACIABEgAAAQASJAAAAgAkSAAABABIgAAQCACBABAgAAESACBAAAIkAECAAARAACAAARgAAAQAQIAAAQAQIAAESAAAAAESAAAEAECAAARIAIEAAAiAARIAAAEAEiQAAAIAJEgAAAQASIAAEAgAgQAQIAABEgAgQAACJABAgAAESACBAAAIgAESAAABABIkAAACACRIAAAEAE1CNAAAAgAoIRIAAAEAHBCBAAAIiAYAQIAABEQDACBAAAIiAYAQIAABEQjAAB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",alt:"Logout",width:"50"})})})]})},O=()=>Object(h.jsx)("div",{className:"channel-list__header",children:Object(h.jsx)("p",{className:"channel-list__header__text",children:"Synergy"})}),x=e=>e.filter((e=>"team"===e.type)),v=e=>e.filter((e=>"messaging"===e.type)),I=e=>{let{isCreating:A,setIsCreating:t,setCreateType:s,setIsEditing:n,setToggleContainer:a}=e;const{client:c}=Object(o.b)(),i={members:{$in:[c.userID]}};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{logout:()=>{u.remove("token"),u.remove("userId"),u.remove("username"),u.remove("fullName"),u.remove("avatarURL"),u.remove("hashedPassword"),u.remove("phoneNumber"),window.location.reload()}}),Object(h.jsxs)("div",{className:"channel-list__list__wrapper",children:[Object(h.jsx)(O,{}),Object(h.jsx)(N,{setToggleContainer:a}),Object(h.jsx)(m.a,{filters:i,channelRenderFilterFn:x,List:e=>Object(h.jsx)(D,{...e,type:"team",isCreating:A,setIsCreating:t,setCreateType:s,setIsEditing:n,setToggleContainer:a}),Preview:e=>Object(h.jsx)(y,{...e,setIsCreating:t,setIsEditing:n,setToggleContainer:a,type:"team"})}),Object(h.jsx)(m.a,{filters:i,channelRenderFilterFn:v,List:e=>Object(h.jsx)(D,{...e,type:"messaging",isCreating:A,setIsCreating:t,setCreateType:s,setIsEditing:n,setToggleContainer:a}),Preview:e=>Object(h.jsx)(y,{...e,setIsCreating:t,setIsEditing:n,setToggleContainer:a,type:"messaging"})})]})]})};var p=e=>{let{setCreateType:A,setIsCreating:t,setIsEditing:n}=e;const[a,c]=Object(s.useState)(!1);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"channel-list__container",children:Object(h.jsx)(I,{setIsCreating:t,setCreateType:A,setIsEditing:n})}),Object(h.jsxs)("div",{className:"channel-list__container-responsive",style:{left:a?"0%":"-89%",backgroundColor:"#005fff"},children:[Object(h.jsx)("div",{className:"channel-list__container-toggle",onClick:()=>c((e=>!e))}),Object(h.jsx)(I,{setIsCreating:t,setCreateType:A,setIsEditing:n,setToggleContainer:c})]})]})};const w=e=>{let{setCreateType:A,setIsCreating:t,setIsEditing:s,setToggleContainer:n,type:a}=e;return Object(h.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{A(a),t((e=>!e)),s(!1),n&&n((e=>!e))},children:Object(h.jsx)("path",{d:"M7 0C3.13438 0 0 3.13438 0 7C0 10.8656 3.13438 14 7 14C10.8656 14 14 10.8656 14 7C14 3.13438 10.8656 0 7 0ZM11 7.5H7.5V11H6.5V7.5H3V6.5H6.5V3H7.5V6.5H11V7.5Z",fill:"white",fillOpacity:"0.66"})})},_=()=>Object(h.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M8.16602 6.49837H9.83269V4.83171H8.16602V6.49837ZM8.99936 15.665C5.32351 15.665 2.33268 12.6743 2.33268 8.99833C2.33268 5.32253 5.32351 2.33171 8.99936 2.33171C12.6752 2.33171 15.666 5.32253 15.666 8.99833C15.666 12.6743 12.6752 15.665 8.99936 15.665ZM8.99936 0.665039C4.39684 0.665039 0.666016 4.39587 0.666016 8.99833C0.666016 13.6009 4.39684 17.3317 8.99936 17.3317C13.6019 17.3317 17.3327 13.6009 17.3327 8.99833C17.3327 4.39587 13.6019 0.665039 8.99936 0.665039ZM8.16602 13.165H9.83269V8.165H8.16602V13.165Z",fill:"black",fillOpacity:"0.33"})}),E=e=>{let{setIsCreating:A,setIsEditing:t}=e;return Object(h.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{A&&A(!1),t&&t(!1)},children:Object(h.jsx)("path",{d:"M6.10042 6.10051C0.633603 11.5673 0.633603 20.4327 6.10042 25.8995C11.5672 31.3663 20.4326 31.3663 25.8994 25.8995C31.3662 20.4327 31.3662 11.5673 25.8994 6.10051C20.4326 0.633686 11.5672 0.633685 6.10042 6.10051ZM22.3639 11.0503L17.4141 16L22.3639 20.9497L20.9497 22.364L15.9999 17.4142L11.0502 22.364L9.63596 20.9497L14.5857 16L9.63596 11.0503L11.0502 9.63604L15.9999 14.5858L20.9497 9.63604L22.3639 11.0503Z",fill:"var(--primary-color)"})})},B=()=>Object(h.jsx)("div",{style:{marginLeft:"2px"},children:Object(h.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(h.jsx)("path",{d:"M14 0C6.26875 0 0 6.26875 0 14C0 21.7313 6.26875 28 14 28C21.7313 28 28 21.7313 28 14C28 6.26875 21.7313 0 14 0ZM21.1812 9.31875L12.4875 20.475C12.4187 20.5438 12.3062 20.6938 12.1687 20.6938C12.025 20.6938 11.9313 20.5938 11.85 20.5125C11.7688 20.4313 6.91875 15.7687 6.91875 15.7687L6.825 15.675C6.7875 15.6187 6.75625 15.55 6.75625 15.475C6.75625 15.4 6.7875 15.3312 6.825 15.275C6.85 15.25 6.86875 15.2313 6.89375 15.2C7.375 14.6938 8.35 13.6687 8.4125 13.6062C8.49375 13.525 8.5625 13.4187 8.7125 13.4187C8.86875 13.4187 8.96875 13.55 9.04375 13.625C9.11875 13.7 11.8562 16.3312 11.8562 16.3312L18.8125 7.39375C18.875 7.34375 18.95 7.30625 19.0312 7.30625C19.1125 7.30625 19.1875 7.3375 19.25 7.3875L21.1625 8.89375C21.2125 8.95625 21.2437 9.03125 21.2437 9.1125C21.25 9.19375 21.2188 9.2625 21.1812 9.31875Z",fill:"#1D9D67"})})}),f=()=>Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{fill:"#fff",fillOpacity:"0.66",fillRule:"evenodd",d:"M2.7 6.95a4.25 4.25 0 117.306 2.954 1.001 1.001 0 00-.102.102A4.25 4.25 0 012.7 6.95zm7.906 5.07a6.25 6.25 0 111.414-1.414l2.987 2.987a1 1 0 11-1.414 1.414l-2.987-2.987z",clipRule:"evenodd"})});var N=e=>{let{setToggleContainer:A}=e;const{client:t,setActiveChannel:n}=Object(o.b)(),[a,c]=Object(s.useState)(""),[i,l]=Object(s.useState)(!1),[r,d]=Object(s.useState)([]),[j,g]=Object(s.useState)([]);Object(s.useEffect)((()=>{a||(d([]),g([]))}),[a]);return Object(h.jsxs)("div",{className:"channel-search__container",children:[Object(h.jsxs)("div",{className:"channel-search__input__wrapper",children:[Object(h.jsx)("div",{className:"channel-serach__input__icon",children:Object(h.jsx)(f,{})}),Object(h.jsx)("input",{className:"channel-search__input__text",placeholder:"Search",type:"text",value:a,onChange:e=>{e.preventDefault(),l(!0),c(e.target.value),(async e=>{try{const A=t.queryChannels({type:"team",name:{$autocomplete:e},members:{$in:[t.userID]}}),s=t.queryUsers({id:{$ne:t.userID},name:{$autocomplete:e}}),[n,{users:a}]=await Promise.all([A,s]);n.length&&d(n),a.length&&g(a)}catch(A){c("")}})(e.target.value)}})]}),a&&Object(h.jsx)(Ae,{teamChannels:r,directChannels:j,loading:i,setChannel:e=>{c(""),n(e)},setQuery:c,setToggleContainer:A})]})};var D=e=>{let{setToggleContainer:A,children:t,error:s=!1,loading:n,type:a,isCreating:c,setIsCreating:i,setCreateType:l,setIsEditing:r}=e;return s?"team"===a?Object(h.jsx)("div",{className:"team-channel-list",children:Object(h.jsx)("p",{className:"team-channel-list__message",children:"Connection error, please wait a moment and try again."})}):null:n?Object(h.jsx)("div",{className:"team-channel-list",children:Object(h.jsxs)("p",{className:"team-channel-list__message loading",children:["team"===a?"Channels":"Messages"," loading..."]})}):Object(h.jsxs)("div",{className:"team-channel-list",children:[Object(h.jsxs)("div",{className:"team-channel-list__header",children:[Object(h.jsx)("p",{className:"team-channel-list__header__title",children:"team"===a?"Channels":"Direct Messages"}),Object(h.jsx)(w,{isCreating:c,setIsCreating:i,setCreateType:l,setIsEditing:r,type:"team"===a?"team":"messaging",setToggleContainer:A})]}),t]})},Q=t(42);var y=e=>{let{setActiveChannel:A,setIsCreating:t,setIsEditing:s,setToggleContainer:n,channel:a,type:c}=e;const{channel:i,client:l}=Object(o.b)(),r=()=>{var e,A;return Object(h.jsxs)("p",{className:"channel-preview__item",children:["# ",(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.name)||(null===a||void 0===a||null===(A=a.data)||void 0===A?void 0:A.id)]})},d=()=>{var e,A,t,s,n,c,i,r,d,j;const g=Object.values(a.state.members).filter((e=>{let{user:A}=e;return A.id!==l.userID}));return console.log(g[0]),Object(h.jsxs)("div",{className:"channel-preview__item single",children:[Object(h.jsx)(Q.a,{image:null===(e=g[0])||void 0===e||null===(A=e.user)||void 0===A?void 0:A.image,name:(null===(t=g[0])||void 0===t||null===(s=t.user)||void 0===s?void 0:s.fullName)||(null===(n=g[0])||void 0===n||null===(c=n.user)||void 0===c?void 0:c.id),size:24}),Object(h.jsx)("p",{children:(null===(i=g[0])||void 0===i||null===(r=i.user)||void 0===r?void 0:r.fullName)||(null===(d=g[0])||void 0===d||null===(j=d.user)||void 0===j?void 0:j.id)})]})};return Object(h.jsx)("div",{className:(null===a||void 0===a?void 0:a.id)===(null===i||void 0===i?void 0:i.id)?"channel-preview__wrapper__selected":"channel-preview__wrapper",onClick:()=>{t(!1),s(!1),A(a),n&&n((e=>!e))},children:"team"===c?Object(h.jsx)(r,{}):Object(h.jsx)(d,{})})},P=t(12),L=t(386),M=t(181),S=t(182),H=t(404),G=t(7);const Y=n.a.createContext({}),T=e=>{let{setIsEditing:A}=e;const{channel:t,watcher_count:s}=Object(G.b)(),{client:n}=Object(o.b)(),a=()=>{const e=Object.values(t.state.members).filter((e=>{let{user:A}=e;return A.id!==n.userID})),s=e.length-3;return"messaging"===t.type?Object(h.jsxs)("div",{className:"team-channel-header__name-wrapper",children:[e.map(((e,A)=>{let{user:t}=e;return Object(h.jsxs)("div",{className:"team-channel-header__name-multi",children:[Object(h.jsx)(Q.a,{image:t.image,name:t.fullName||t.id,size:32}),Object(h.jsx)("p",{className:"team-channel-header__name user",children:t.fullName||t.id})]},A)})),s>0&&Object(h.jsxs)("p",{className:"team-channel-header__name user",children:["and ",s," more"]})]}):Object(h.jsxs)("div",{className:"team-channel-header__channel-wrapper",children:[Object(h.jsxs)("p",{className:"team-channel-header__name",children:["# ",t.data.name]}),Object(h.jsx)("span",{style:{display:"flex"},onClick:()=>A(!0),children:Object(h.jsx)(_,{})})]})};return Object(h.jsxs)("div",{className:"team-channel-header__container",children:[Object(h.jsx)(a,{}),Object(h.jsx)("div",{className:"team-channel-header__right",children:Object(h.jsx)("p",{className:"team-channel-header__right-text",children:(c=s,c?1===c?"1 user online":`${c} users online`:"No users online")})})]});var c};var U=e=>{let{setIsEditing:A}=e;const[t,n]=Object(s.useState)(!1),{sendMessage:a}=Object(P.b)();return Object(h.jsx)(Y.Provider,{value:{giphyState:t,setGiphyState:n},children:Object(h.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(h.jsxs)(L.a,{children:[Object(h.jsx)(T,{setIsEditing:A}),Object(h.jsx)(M.a,{}),Object(h.jsx)(S.a,{overrideSubmitHandler:e=>{var A;let s={attachments:e.attachments,mentioned_users:e.mentioned_users,parent_id:null===(A=e.parent)||void 0===A?void 0:A.id,parent:e.parent,text:e.text};t&&(s={...s,text:`/giphy ${e.text}`}),a&&(a(s),n(!1))}})]}),Object(h.jsx)(H.a,{})]})})};const R=e=>{let{channelName:A="",setChannelName:t}=e;return Object(h.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(h.jsx)("p",{children:"Name"}),Object(h.jsx)("input",{value:A,onChange:e=>{e.preventDefault(),t(e.target.value)},placeholder:"channel-name"}),Object(h.jsx)("p",{children:"Add Members"})]})};var F=e=>{let{createType:A,setIsCreating:t}=e;const{client:n,setActiveChannel:a}=Object(o.b)(),[c,i]=Object(s.useState)([n.userID||""]),[l,r]=Object(s.useState)("");return Object(h.jsxs)("div",{className:"create-channel__container",children:[Object(h.jsxs)("div",{className:"create-channel__header",children:[Object(h.jsx)("p",{children:"team"===A?"Create a New Channel":"Send a Direct Message"}),Object(h.jsx)(E,{setIsCreating:t})]}),"team"===A&&Object(h.jsx)(R,{channelName:l,setChannelName:r}),Object(h.jsx)($,{setSelectedUsers:i}),Object(h.jsx)("div",{className:"create-channel__button-wrapper",onClick:async e=>{e.preventDefault();try{const e=await n.channel(A,l,{name:l,members:c});await e.watch(),r(""),t(!1),i([n.userID]),a(e)}catch(s){console.log(s)}},children:Object(h.jsx)("p",{children:"team"===A?"Create Channel":"Create Message Group"})})]})};const k=e=>{let{channelName:A="",setChannelName:t}=e;return Object(h.jsxs)("div",{className:"channel-name-input__wrapper",children:[Object(h.jsx)("p",{children:"Name"}),Object(h.jsx)("input",{value:A,onChange:e=>{e.preventDefault(),t(e.target.value)},placeholder:"channel-name"}),Object(h.jsx)("p",{children:"Add Members"})]})};var X=e=>{var A;let{setIsEditing:t}=e;const{channel:n}=Object(o.b)(),[a,c]=Object(s.useState)(null===n||void 0===n||null===(A=n.data)||void 0===A?void 0:A.name),[i,l]=Object(s.useState)([]);return Object(h.jsxs)("div",{className:"edit-channel__container",children:[Object(h.jsxs)("div",{className:"edit-channel__header",children:[Object(h.jsx)("p",{children:"Edit Channel"}),Object(h.jsx)(E,{setIsEditing:t})]}),Object(h.jsx)(k,{channelName:a,setChannelName:c}),Object(h.jsx)($,{setSelectedUsers:l}),Object(h.jsx)("div",{className:"edit-channel__button-wrapper",onClick:async e=>{e.preventDefault();a!==(n.data.name||n.data.id)&&await n.update({name:a},{text:`Channel name changed to ${a}`}),i.length&&await n.addMembers(i),c(null),t(!1),l([])},children:Object(h.jsx)("p",{children:"Save Changes"})})]})};t(15);var z=t(177),V=t.n(z);t.p;const Z=new r.a,J={fullName:"",username:"",password:"",confirmPassword:""};var q=()=>{const[e,A]=Object(s.useState)(J),[t,n]=Object(s.useState)(!1),a=t=>{A({...e,[t.target.name]:t.target.value})};return Object(h.jsx)("div",{className:"auth__form-container",children:Object(h.jsx)("div",{className:"auth__form-container_fields",children:Object(h.jsxs)("div",{className:"auth__form-container_fields-content",children:[Object(h.jsx)("p",{children:t?"Sign Up":"Sign In"}),Object(h.jsxs)("form",{onSubmit:async A=>{A.preventDefault();const{username:s,password:n}=e,{data:{token:a,userId:c,hashedPassword:i,fullName:l}}=await V.a.post("https://74a7-3-144-146-156.ngrok-free.app/"+(t?"signup":"login"),{username:s,password:n,fullName:e.fullName});Z.set("token",a),Z.set("username",s),Z.set("fullName",l),Z.set("userId",c),t&&Z.set("hashedPassword",i),window.location.reload()},children:[t&&Object(h.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(h.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),Object(h.jsx)("input",{name:"fullName",type:"text",placeholder:"Full Name",onChange:a,required:!0})]}),Object(h.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(h.jsx)("label",{htmlFor:"username",children:"Username"}),Object(h.jsx)("input",{name:"username",type:"text",placeholder:"Username",onChange:a,required:!0})]}),Object(h.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(h.jsx)("label",{htmlFor:"password",children:"Password"}),Object(h.jsx)("input",{name:"password",type:"password",placeholder:"Password",onChange:a,required:!0})]}),t&&Object(h.jsxs)("div",{className:"auth__form-container_fields-content_input",children:[Object(h.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(h.jsx)("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password",onChange:a,required:!0})]}),Object(h.jsx)("div",{className:"auth__form-container_fields-content_button",children:Object(h.jsx)("button",{children:t?"Sign Up":"Sign In"})})]}),Object(h.jsx)("div",{className:"auth__form-container_fields-account",children:Object(h.jsxs)("p",{children:[t?"Already have an account?":"Don't have an account?",Object(h.jsx)("span",{onClick:()=>{n((e=>!e))},children:t?" Sign In":" Sign Up"})]})})]})})})};const K=e=>{let{children:A}=e;return Object(h.jsxs)("div",{className:"user-list__container",children:[Object(h.jsxs)("div",{className:"user-list__header",children:[Object(h.jsx)("p",{children:"User"}),Object(h.jsx)("p",{children:"Invite"})]}),A]})},W=e=>{let{user:A,setSelectedUsers:t}=e;const[n,a]=Object(s.useState)(!1);return Object(h.jsxs)("div",{className:"user-item__wrapper",onClick:()=>{t(n?e=>e.filter((e=>e!==A.id)):e=>[...e,A.id]),a((e=>!e))},children:[Object(h.jsxs)("div",{className:"user-item__name-wrapper",children:[Object(h.jsx)(Q.a,{image:A.image,name:A.fullName||A.id,size:32}),Object(h.jsx)("p",{className:"user-item__name",children:A.fullName||A.id})]}),n?Object(h.jsx)(B,{}):Object(h.jsx)("div",{className:"user-item__invite-empty"})]})};var $=e=>{let{setSelectedUsers:A}=e;const{client:t}=Object(o.b)(),[n,a]=Object(s.useState)([]),[c,i]=Object(s.useState)(!1),[l,r]=Object(s.useState)(!1),[d,j]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{t&&(async()=>{if(!c){i(!0);try{const e=await t.queryUsers({id:{$ne:t.userID}},{id:1},{limit:8});e.users.length?a(e.users):r(!0)}catch(d){j(!0)}i(!1)}})()}),[]),d?Object(h.jsx)(K,{children:Object(h.jsx)("div",{className:"user-list__message",children:"Error loading, please refresh and try again."})}):l?Object(h.jsx)(K,{children:Object(h.jsx)("div",{className:"user-list__message",children:"No users found."})}):Object(h.jsx)(K,{children:c?Object(h.jsx)("div",{className:"user-list__message",children:"Loading users..."}):null===n||void 0===n?void 0:n.map(((e,t)=>Object(h.jsx)(W,{index:t,user:e,setSelectedUsers:A},e.id)))})};const ee=e=>{let{channel:A,focusedId:t,type:s,setChannel:n,setToggleContainer:a}=e;const{client:c,setActiveChannel:i}=Object(o.b)();return"channel"===s?Object(h.jsxs)("div",{onClick:()=>{n(A),a&&a((e=>!e))},className:t===A.id?"channel-search__result-container__focused":"channel-search__result-container",children:[Object(h.jsx)("div",{className:"result-hashtag",children:"#"}),Object(h.jsx)("p",{className:"channel-search__result-text",children:A.data.name})]}):Object(h.jsx)("div",{onClick:async()=>{(async e=>{let{client:A,setActiveChannel:t,channel:s,setChannel:n}=e;const a={type:"messaging",member_count:2,members:{$eq:[A.user.id,A.userID]}},[c]=await A.queryChannels(a);if(c)return t(c);const i=A.channel("messaging",{members:[s.id,A.userID]});n(i),t(i)})({client:c,setActiveChannel:i,channel:A,setChannel:n}),a&&a((e=>!e))},className:t===A.id?"channel-search__result-container__focused":"channel-search__result-container",children:Object(h.jsxs)("div",{className:"channel-search__result-user",children:[Object(h.jsx)(Q.a,{image:A.image||void 0,name:A.name,size:24}),Object(h.jsx)("p",{className:"channel-search__result-text",children:A.name})]})})};var Ae=e=>{let{teamChannels:A,directChannels:t,focusedId:s,loading:n,setChannel:a,setToggleContainer:c}=e;return Object(h.jsxs)("div",{className:"channel-search__results",children:[Object(h.jsx)("p",{className:"channel-search__results-header",children:"Channels"}),n&&!A.length&&Object(h.jsx)("p",{className:"channel-search__results-header",children:Object(h.jsx)("i",{children:"Loading..."})}),n||A.length?null===A||void 0===A?void 0:A.map(((e,A)=>Object(h.jsx)(ee,{channel:e,focusedId:s,setChannel:a,type:"channel",setToggleContainer:c},A))):Object(h.jsx)("p",{className:"channel-search__results-header",children:Object(h.jsx)("i",{children:"No channels found"})}),Object(h.jsx)("p",{className:"channel-search__results-header",children:"Users"}),n&&!t.length&&Object(h.jsx)("p",{className:"channel-search__results-header",children:Object(h.jsx)("i",{children:"Loading..."})}),n||t.length?null===t||void 0===t?void 0:t.map(((e,A)=>Object(h.jsx)(ee,{channel:e,focusedId:s,setChannel:a,type:"user",setToggleContainer:c},A))):Object(h.jsx)("p",{className:"channel-search__res ults-header",children:Object(h.jsx)("i",{children:"No direct messages found"})})]})};t(353),t(354);const te=new r.a,se=te.get("token"),ne=i.a.getInstance("hhfn42cf7qdx");se&&ne.connectUser({id:te.get("userId"),name:te.get("username"),fullName:te.get("fullName"),image:te.get("avatarURL"),hashedPassword:te.get("hashedPassword"),phoneNumber:te.get("phoneNumber")},se);var ae=()=>{const[e,A]=Object(s.useState)(""),[t,n]=Object(s.useState)(!1),[a,c]=Object(s.useState)(!1);return se?Object(h.jsx)("div",{className:"app__wrapper",children:Object(h.jsxs)(l.a,{client:ne,theme:"team light",children:[Object(h.jsx)(p,{isCreating:t,setIsCreating:n,setCreateType:A,setIsEditing:c}),Object(h.jsx)(g,{isCreating:t,setIsCreating:n,isEditing:a,setIsEditing:c,createType:e})]})}):Object(h.jsx)(q,{})};c.a.render(Object(h.jsx)(ae,{}),document.getElementById("root"))}},[[367,1,2]]]);
//# sourceMappingURL=main.f10498c2.chunk.js.map